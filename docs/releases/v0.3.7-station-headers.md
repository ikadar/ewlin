# Release v0.3.7 – Station Column Headers

> **Status:** ✅ Released
>
> **Milestone:** M3 (Frontend Integration)
>
> **Released:** 2025-12-16
>
> **Git Tag:** `v0.3.7`

---

## Overview

This release implements the Station Column Headers component, which displays station names in a sticky header row. The headers include optional off-screen indicators showing how many tiles are above/below the viewport for the selected job.

---

## Prerequisites

- [x] v0.3.6 - Timeline Column released

---

## Scope

### In Scope

- **StationHeaders container** - Sticky header row (z-30)
- **StationHeader component** - Individual station header cell
- **Station name display** - Station name with proper styling
- **Off-screen indicator structure** - Chevron + count (placeholder for MVP)
- **Integration with mock stations**

### Out of Scope

- Actual off-screen tile calculation (requires tiles in v0.3.9)
- Click to scroll to tile (requires grid scroll integration)
- Station columns content (v0.3.8)

---

## Related Documentation

### UX/UI Specification

| Document | Sections |
|----------|----------|
| [Scheduling Grid](../ux-ui/05-components/scheduling-grid.md) | Column Header section |
| [Off-screen Indicators](../ux-ui/03-navigation/off-screen-indicators.md) | Full specification |
| [Mockup](../ux-ui/dark-prettier.html) | Column 5: Station headers (line 848) |

---

## Technical Notes

### Container Dimensions

| Property | Value |
|----------|-------|
| Layout | `flex gap-3 px-3` |
| Background | `bg-zinc-900` |
| Border | `border-b border-white/10` |
| Sticky | `sticky top-0 z-30` |
| Shrink | `shrink-0` |

### Header Cell Dimensions

| Property | Value |
|----------|-------|
| Width | 240px (w-60) |
| Padding | `py-2 px-3` |
| Text | `text-sm font-medium text-zinc-300` |
| Layout | `flex items-center justify-between` |

### Off-screen Indicator (in header)

| Property | Value |
|----------|-------|
| Container | `flex items-center gap-1 text-xs text-zinc-500` |
| Icon | `w-3 h-3` (chevron-up or chevron-down) |
| Content | Count of off-screen tiles |

### Mockup Code Reference

**Headers container:**
```html
<div class="flex gap-3 px-3 bg-zinc-900 border-b border-white/10 shrink-0 sticky top-0 z-30">
```

**Header cell with indicator:**
```html
<div class="w-60 shrink-0 py-2 px-3 text-sm font-medium text-zinc-300 flex items-center justify-between">
  <span>Komori G40</span>
  <div class="flex items-center gap-1 text-xs text-zinc-500">
    <i data-lucide="chevron-up" class="w-3 h-3"></i>
    <span>2</span>
  </div>
</div>
```

**Header cell without indicator:**
```html
<div class="w-60 shrink-0 py-2 px-3 text-sm font-medium text-zinc-300">
  Polar 137
</div>
```

---

## Feature Checklist

### Container

- [x] **StationHeaders container**
  - Description: Sticky header row containing all station headers
  - Files: `apps/web/src/components/StationHeaders/StationHeaders.tsx`
  - Styling: flex gap-3 px-3, bg-zinc-900, border-b border-white/10, sticky top-0 z-30

### Header Component

- [x] **StationHeader component**
  - Description: Individual station header cell
  - Files: `apps/web/src/components/StationHeaders/StationHeader.tsx`
  - Props: station, offScreenCount (optional)

- [x] **Station name display**
  - Description: Station name with proper styling
  - Files: `apps/web/src/components/StationHeaders/StationHeader.tsx`
  - Styling: text-sm font-medium text-zinc-300

### Off-screen Indicator

- [x] **OffScreenIndicator component**
  - Description: Chevron + count for off-screen tiles
  - Files: `apps/web/src/components/StationHeaders/OffScreenIndicator.tsx`
  - Props: count, direction ('up' | 'down')
  - Styling: flex items-center gap-1 text-xs text-zinc-500

### Exports

- [x] **Component exports**
  - Description: Export StationHeaders and subcomponents
  - Files: `apps/web/src/components/StationHeaders/index.ts`, `apps/web/src/components/index.ts`

### App Integration

- [x] **Add StationHeaders to App layout**
  - Description: Place after TimelineColumn, integrate with mock stations
  - Files: `apps/web/src/App.tsx`

---

## Testing Requirements

### Unit Tests

- [x] StationHeaders renders all stations
- [x] StationHeader displays station name
- [x] OffScreenIndicator shows correct count
- [x] OffScreenIndicator shows correct direction (up/down)
- [x] Header has sticky positioning
- [x] Headers have correct width (w-60)

---

## Definition of Done

All items must be checked for the release to be considered complete:

- [x] All feature checklist items completed
- [x] All unit tests passing (229 tests)
- [x] TypeScript compiles without errors
- [x] Lint passes
- [x] Documentation updated
- [x] Git tag created: `v0.3.7`

---

## Release Notes Draft

```markdown
## v0.3.7 – Station Column Headers

**Release Date:** 2025-12-16

### Summary

Station Column Headers component for displaying station names with off-screen indicators.

### What's New

- StationHeaders container (sticky, z-30)
- StationHeader cells (w-60)
- Station name display
- OffScreenIndicator (chevron + count)
- Integration with mock station data

### Technical

- Lucide React icons for chevrons
- Sticky positioning for vertical scroll
- Tailwind CSS styling matching mockup
```

---

## File Structure

```
apps/web/src/components/
├── StationHeaders/
│   ├── index.ts                # Exports
│   ├── StationHeaders.tsx      # Main container
│   ├── StationHeaders.test.tsx # Tests
│   ├── StationHeader.tsx       # Individual header cell
│   └── OffScreenIndicator.tsx  # Chevron + count
└── index.ts                    # Updated exports
```
