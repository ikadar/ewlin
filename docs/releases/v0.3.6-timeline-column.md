# Release v0.3.6 â€“ Timeline Column

> **Status:** ðŸ”´ Not Started
>
> **Milestone:** M3 (Frontend Integration)
>
> **Target Date:** 2025-12-16
>
> **Git Tag:** `v0.3.6`

---

## Overview

This release implements the Timeline Column component, which displays hour markers with tick marks and a "now" line indicating the current time. The timeline will synchronize with station columns for vertical scrolling once those are implemented.

---

## Prerequisites

- [x] v0.3.5 - Date Strip Component released

---

## Scope

### In Scope

- **TimelineColumn container** - Fixed width (w-12 / 48px), sticky left
- **Hour markers** - Full-width lines with hour labels (6h, 7h, etc.)
- **Tick marks** - 30-minute and 15-minute ticks with different widths
- **Now line** - Red horizontal line at current time with time label
- **Time scale** - 80px per hour

### Out of Scope

- Synchronized vertical scroll (requires station columns - v0.3.8)
- Departure date marker (blue line - requires job selection state)
- Station column integration

---

## Related Documentation

### UX/UI Specification

| Document | Sections |
|----------|----------|
| [Scheduling Grid](../ux-ui/05-components/scheduling-grid.md) | Timeline Column section |
| [Mockup](../ux-ui/dark-prettier.html) | Column 4: Timeline (line 693) |

---

## Technical Notes

### Dimensions

| Property | Value |
|----------|-------|
| Width | 48px (w-12) |
| Container bg | `bg-zinc-950` |
| Inner bg | `bg-zinc-900/50` |
| Border | `border-r border-white/5` |
| Sticky | `sticky left-0 z-10` |

### Time Scale

| Unit | Pixels |
|------|--------|
| 1 hour | 80px |
| 30 min | 40px |
| 15 min | 20px |

### Hour Markers

| Element | Classes |
|---------|---------|
| Hour line | `h-px bg-zinc-700/50` (full width) |
| Hour label | `text-sm font-mono text-zinc-600` (right-2) |
| 30 min tick | `w-3 h-px bg-zinc-700/50` (right-aligned) |
| 15/45 min tick | `w-2 h-px bg-zinc-800/50` (right-aligned) |

### Now Line

| Element | Classes |
|---------|---------|
| Line | `h-0.5 bg-red-500 z-20` |
| Label | `text-xs font-mono text-red-400 bg-zinc-900 px-1 rounded z-20` |

### Mockup Code Reference

**Hour marker pattern:**
```html
<div class="absolute left-0 right-0 h-px bg-zinc-700/50" style="top: 0px;"></div>
<span class="absolute right-2 text-sm font-mono text-zinc-600" style="top: 1px;">6h</span>
<div class="absolute right-0 w-2 h-px bg-zinc-800/50" style="top: 20px;"></div>
<div class="absolute right-0 w-3 h-px bg-zinc-700/50" style="top: 40px;"></div>
<div class="absolute right-0 w-2 h-px bg-zinc-800/50" style="top: 60px;"></div>
```

**Now line:**
```html
<div class="absolute left-0 right-0 h-0.5 bg-red-500 z-20" style="top: 413px;"></div>
<span class="absolute left-1 text-xs font-mono text-red-400 bg-zinc-900 px-1 rounded z-20" style="top: 406px;">11:10</span>
```

---

## Feature Checklist

### Container

- [ ] **TimelineColumn container**
  - Description: Fixed-width column with sticky positioning
  - Files: `apps/web/src/components/TimelineColumn/TimelineColumn.tsx`
  - Styling: w-12, shrink-0, sticky left-0, z-10, bg-zinc-950, border-r border-white/5

### Hour Markers

- [ ] **HourMarker component**
  - Description: Single hour with line, label, and tick marks
  - Files: `apps/web/src/components/TimelineColumn/HourMarker.tsx`
  - Props: hour, yPosition

- [ ] **Hour line**
  - Description: Full-width horizontal line at each hour
  - Files: `apps/web/src/components/TimelineColumn/HourMarker.tsx`
  - Styling: h-px bg-zinc-700/50, full width

- [ ] **Hour label**
  - Description: Hour text (6h, 7h, etc.)
  - Files: `apps/web/src/components/TimelineColumn/HourMarker.tsx`
  - Styling: text-sm font-mono text-zinc-600, right-2

- [ ] **Tick marks**
  - Description: 15, 30, 45 minute markers
  - Files: `apps/web/src/components/TimelineColumn/HourMarker.tsx`
  - 30 min: w-3 h-px bg-zinc-700/50
  - 15/45 min: w-2 h-px bg-zinc-800/50

### Now Line

- [ ] **NowLine component**
  - Description: Red line at current time with label
  - Files: `apps/web/src/components/TimelineColumn/NowLine.tsx`
  - Line: h-0.5 bg-red-500 z-20
  - Label: text-xs font-mono text-red-400 bg-zinc-900 px-1 rounded

- [ ] **Time calculation**
  - Description: Calculate Y position from current time
  - Files: `apps/web/src/components/TimelineColumn/NowLine.tsx`
  - Formula: (hour - startHour) * 80 + minute * 80/60

### Exports

- [ ] **Component exports**
  - Description: Export TimelineColumn and subcomponents
  - Files: `apps/web/src/components/TimelineColumn/index.ts`, `apps/web/src/components/index.ts`

### App Integration

- [ ] **Add TimelineColumn to App layout**
  - Description: Place after DateStrip
  - Files: `apps/web/src/App.tsx`

---

## Testing Requirements

### Unit Tests

- [ ] TimelineColumn renders with correct width
- [ ] Hour markers display correct labels
- [ ] Tick marks are positioned correctly
- [ ] NowLine shows current time
- [ ] NowLine position updates based on time
- [ ] Hour range is configurable (startHour, endHour)

---

## Definition of Done

All items must be checked for the release to be considered complete:

- [ ] All feature checklist items completed
- [ ] All unit tests passing
- [ ] TypeScript compiles without errors
- [ ] Lint passes
- [ ] Documentation updated
- [ ] Git tag created: `v0.3.6`

---

## Release Notes Draft

```markdown
## v0.3.6 â€“ Timeline Column

**Release Date:** 2025-12-16

### Summary

Timeline Column component for hour-based time display in the scheduling grid.

### What's New

- TimelineColumn (w-12, fixed width, sticky left)
- Hour markers with labels (6h-5h, 24-hour cycle)
- Tick marks (15, 30, 45 minutes)
- Now line (red) with current time label
- 80px per hour time scale

### Technical

- Configurable hour range
- Time-to-position calculation utilities
- Sticky positioning for horizontal scroll
```

---

## File Structure

```
apps/web/src/components/
â”œâ”€â”€ TimelineColumn/
â”‚   â”œâ”€â”€ index.ts              # Exports
â”‚   â”œâ”€â”€ TimelineColumn.tsx    # Main container
â”‚   â”œâ”€â”€ TimelineColumn.test.tsx # Tests
â”‚   â”œâ”€â”€ HourMarker.tsx        # Hour with label and ticks
â”‚   â””â”€â”€ NowLine.tsx           # Current time indicator
â””â”€â”€ index.ts                  # Updated exports
```
