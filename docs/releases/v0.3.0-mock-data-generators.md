# Release v0.3.0 – Mock Data Generators

> **Status:** ✅ Released (on ux-ui-development)
>
> **Milestone:** M3 (Frontend Integration)
>
> **Release Date:** 2025-12-16
>
> **Git Tag:** `v0.3.0`

---

## Overview

This release implements mock data generators for the frontend application. These generators create realistic test data matching the `@flux/types` package, enabling UI development without a live backend. The generators produce stations with operating schedules, jobs with tasks, assignments, and a complete `ScheduleSnapshot`.

---

## Prerequisites

- [x] `apps/web` cleaned up (empty project ready for new implementation)
- [x] `@flux/types` package available with all type definitions

---

## Scope

### In Scope

- **Station generator** with operating schedules, categories, and groups
- **Job generator** with tasks, including problematic jobs (late, conflicts)
- **Assignment generator** for scheduling tasks to stations
- **Snapshot cache** implementation for storing generated data
- **TypeScript types** matching `@flux/types` package

### Out of Scope

- Mock API endpoints (v0.3.1)
- UI components (v0.3.2+)
- Real backend integration (v0.3.19+)

---

## Related Documentation

### Domain Model

| Document | Sections |
|----------|----------|
| [Domain Vocabulary](../domain-model/domain-vocabulary.md) | Station, Job, Task, Assignment, ScheduleSnapshot |
| [Business Rules](../domain-model/business-rules.md) | BR-SCH-* (scheduling rules) |

### Types

| Package | Files |
|---------|-------|
| `@flux/types` | station.ts, job.ts, task.ts, assignment.ts |

---

## Technical Notes

### Generator Design

Each generator should:
1. Accept configuration options (count, date range, etc.)
2. Return typed data matching `@flux/types`
3. Generate deterministic data when given a seed
4. Create realistic French print shop data (station names, job descriptions)

### Data Relationships

```
StationCategory → SimilarityCriterion[]
StationGroup → Station[]
Station → OperatingSchedule, ScheduleException[]
Job → Task[]
Task → Assignment (when scheduled)
ScheduleSnapshot → all of the above
```

### Realistic Data Examples

**Stations:**
- Komori G40 (offset press)
- Polar 137 (cutter)
- Heidelberg Speedmaster (offset press)
- Massicot (guillotine cutter)

**Providers:**
- Clément (pelliculage, dorure)
- Reliure Express (binding)

**Jobs:**
- "Cartes de voeux - 9,9 x 21 cm - off 350g - 350 ex"
- "Brochures A4 - CB 135g - 1000 ex"
- "Affiches A2 - brillant - 500 ex"

---

## Feature Checklist

### Station Generator

- [x] **generateStationCategories()**
  - Description: Generate station categories with similarity criteria
  - Files: `apps/web/src/mock/generators/stations.ts`
  - Output: `StationCategory[]` with realistic names and criteria

- [x] **generateStationGroups()**
  - Description: Generate station groups with capacity limits
  - Files: `apps/web/src/mock/generators/stations.ts`
  - Output: `StationGroup[]` including outsourced provider groups

- [x] **generateOperatingSchedule()**
  - Description: Generate realistic weekly operating schedule
  - Files: `apps/web/src/mock/generators/stations.ts`
  - Output: `OperatingSchedule` with typical print shop hours

- [x] **generateStations()**
  - Description: Generate stations with schedules and exceptions
  - Files: `apps/web/src/mock/generators/stations.ts`
  - Output: `Station[]` with French press names

- [x] **generateProviders()**
  - Description: Generate outsourced providers
  - Files: `apps/web/src/mock/generators/stations.ts`
  - Output: `OutsourcedProvider[]` with action types

### Job Generator

- [x] **generateJobs()**
  - Description: Generate jobs with varying statuses and properties
  - Files: `apps/web/src/mock/generators/jobs.ts`
  - Output: `Job[]` including late jobs and jobs with conflicts

- [x] **generateTasks()**
  - Description: Generate tasks for jobs (internal and outsourced)
  - Files: `apps/web/src/mock/generators/jobs.ts`
  - Output: `Task[]` with realistic durations

- [x] **generateLateJobs()**
  - Description: Identify jobs that will miss deadlines
  - Files: `apps/web/src/mock/generators/jobs.ts`
  - Output: `LateJob[]` with delay information

### Assignment Generator

- [x] **generateAssignments()**
  - Description: Generate task assignments to stations
  - Files: `apps/web/src/mock/generators/assignments.ts`
  - Output: `TaskAssignment[]` with scheduled times

- [x] **generateConflicts()**
  - Description: Generate intentional schedule conflicts for testing
  - Files: `apps/web/src/mock/generators/assignments.ts`
  - Output: `ScheduleConflict[]` of various types

### Snapshot Cache

- [x] **createSnapshot()**
  - Description: Combine all generated data into ScheduleSnapshot
  - Files: `apps/web/src/mock/snapshot.ts`
  - Output: Complete `ScheduleSnapshot` object

- [x] **snapshotCache**
  - Description: In-memory cache for generated snapshot
  - Files: `apps/web/src/mock/snapshot.ts`
  - Output: Singleton pattern with getSnapshot/invalidate methods

### Index and Exports

- [x] **Mock module exports**
  - Description: Clean exports for all generators
  - Files: `apps/web/src/mock/index.ts`
  - Output: Organized exports matching package structure

---

## Testing Requirements

### Unit Tests (81 tests passing)

- [x] Station generators produce valid `Station` objects (22 tests)
- [x] Job generators produce valid `Job` objects (19 tests)
- [x] Task generators produce valid `Task` objects (internal and outsourced)
- [x] Assignment generators produce valid `TaskAssignment` objects (12 tests)
- [x] Snapshot contains all required fields (28 tests)
- [x] Generated data has realistic French values

### Manual Testing

- [x] Console log snapshot and verify structure
- [x] Verify job colors are assigned
- [x] Verify late jobs are correctly identified
- [x] Verify conflicts are generated for testing

---

## Definition of Done

All items must be checked for the release to be considered complete:

- [x] All feature checklist items completed
- [x] All unit tests passing (81 tests)
- [x] TypeScript compiles without errors
- [x] Lint passes
- [x] Documentation updated
- [x] Git tag created: `v0.3.0`

---

## Release Notes Draft

```markdown
## v0.3.0 – Mock Data Generators

**Release Date:** 2025-12-16

### Summary

Initial mock data infrastructure for frontend development. Generates realistic print shop scheduling data matching `@flux/types` for UI development without a backend.

### What's New

- Station generator with categories, groups, and operating schedules
- Job generator with tasks (internal and outsourced)
- Assignment generator with intentional conflicts for testing
- Snapshot cache for centralized data access
- French print shop terminology (Komori, Polar, pelliculage, etc.)

### Technical

- All generators produce data matching `@flux/types`
- Deterministic generation available via seed
- Includes late jobs and schedule conflicts for testing problem indicators
```

---

## File Structure

```
apps/web/src/mock/
├── generators/
│   ├── index.ts          # Generator exports
│   ├── stations.ts       # Station, category, group generators
│   ├── jobs.ts           # Job and task generators
│   └── assignments.ts    # Assignment and conflict generators
├── snapshot.ts           # ScheduleSnapshot creation and cache
└── index.ts              # Public API exports
```

---

## Post-Release

- [ ] Verify generators work in browser console
- [ ] Ready for v0.3.1 (Mock API)
